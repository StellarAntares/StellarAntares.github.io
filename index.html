<html lang="en">

    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/css-style.css">
        <title>Antares Room Temp</title>
        <link rel="icon" href="\images\favicon.png">
    </head>

    <body onload="refreshCharts()">    
                <div id="large-header">
            <div id="large-header-container">
                <div id="main">
                <h1 id="header-light">What temperature is my room?</h1> 
            </div>
            </div>
 
        </div>
        <div id="main-container">

            <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="header-light">CO2 Levels (PPM)</h2>
            </div>
            <div id = "mid-buffer"></div>
            <div id="thingspeakcharts">
                <iframe id="1_OUT" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="1" name = "CO2 Levels" id ="1_IN" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateSensor(4);event.preventDefault();">Set # Days</a>
                </div>
            </div>
            <div id = "midline"></div>
            <!--END-->

            <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="header-light">Temperature (F)</h2>
            </div>
            <div id = "mid-buffer"></div>
            <div id="thingspeakcharts">
                <iframe id="2_OUT" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="1" name = "Temperature Levels" id ="2_IN" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateSensor(5);event.preventDefault();">Set # Days</a>
                </div>
            </div>

            <div id = "midline"></div>
            <!--END-->

            <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="header-light">Humidity (%)</h2>
            </div>
            <div id = "mid-buffer"></div>
            <div id="thingspeakcharts">
                <iframe id="3_OUT" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="1" name = "Humidity Levels" id ="3_IN" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateSensor(6);event.preventDefault();">Set # Days</a>
                </div>
            </div>
            <!--END-->
        </div>

        <!-- Scripts that manage chart data points -->  

        <script>

            var thingspeak = "https://thingspeak.com/channels/2010573/charts/";

            function refreshCharts(){
                updateSensor("1"); //CO2 Level
                updateSensor("2"); //Temperature Level
                updateSensor("3"); //Humidity Level
        
            }
            


            function updateSensor(element){
                var inputID  = element + "_IN";
                var outputID = element + "_OUT";

                var chg = document.getElementById(inputID).value;
                chg = Math.round(chg);

                var ttl = document.getElementById(inputID).name;

                strOUT = thingspeak + element + "?width=auto&height=auto&days=" + chg.toString() + "&dynamic=true&title=" + ttl + "&type=spline";
                document.getElementById(outputID).src=strOUT;

            }

        </script>
    </body>
</html>
